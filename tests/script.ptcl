unsyntax {
	prototype function printf(content: character*, ...): integer
	prototype function printn(content: integer, ...): integer
	prototype function printc(content: character, ...): integer
	prototype function strlen(content: character*): integer
	prototype function malloc(size: integer): pointer
}

function print(content: any): static void {
	if content is integer {
		printn(content :: integer)
	}
	else {
		if content is character* {
			printf(content :: character*)
		}
		else {
			if content is character {
				printc(content :: character)
			}
		}
	}
}

syntax each [name: static word], [time: static integer] [body: static (): void] {
	static if not (time == 0) {
		~func_name: static word = !<loop_ word(time)>
		function !~func_name(): void {
			!name := time
			ptcl_insert(ptcl_get_statements(body))
		}

		!~func_name()
		#each name, time - 1 body
	}
}

function main(): integer {
	#each index, 254 {
		new_body: static (): void = {
			print("Hello, world!")
		}

		ptcl_insert(ptcl_get_statements(new_body))
	}

	return 0
}